<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mood Detection and Analysis</title>
    <style>
        :root {
            --pastel-blue: #a2d2ff;
            --pastel-pink: #ffafcc;
            --pastel-purple: #cdb4db;
            --pastel-green: #bde0fe;
            --pastel-yellow: #ffd6a5;
            --pastel-peach: #ffc8dd;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        header {
            background: linear-gradient(135deg, var(--pastel-blue), var(--pastel-purple));
            color: white;
            padding: 2rem 0;
            text-align: center;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }
        
        .tagline {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .main-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            margin-bottom: 2rem;
        }
        
        .tab-container {
            display: flex;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid #eee;
        }
        
        .tab {
            padding: 0.8rem 1.5rem;
            cursor: pointer;
            font-weight: 500;
            border-radius: 8px 8px 0 0;
            transition: all 0.3s ease;
            margin-right: 0.5rem;
        }
        
        .tab.active {
            background: var(--pastel-blue);
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        textarea {
            width: 100%;
            padding: 1rem;
            border: 2px solid #eee;
            border-radius: 10px;
            font-family: inherit;
            font-size: 1rem;
            min-height: 150px;
            margin-bottom: 1rem;
            transition: border 0.3s ease;
        }
        
        textarea:focus {
            outline: none;
            border-color: var(--pastel-blue);
        }
        
        .language-selector {
            margin-bottom: 1rem;
            text-align: center;
        }
        
        select {
            padding: 0.5rem 1rem;
            border-radius: 8px;
            border: 2px solid #eee;
            font-family: inherit;
        }
        
        .btn {
            background: var(--pastel-purple);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
        }
        
        .btn:hover {
            background: var(--pastel-blue);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        
        .btn i {
            margin-right: 0.5rem;
        }
        
        .result-container {
            margin-top: 2rem;
            background: #f9f9f9;
            border-radius: 12px;
            padding: 1.5rem;
            animation: fadeIn 0.5s ease;
        }
        
        .mood-display {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .mood-icon {
            font-size: 2rem;
            margin-right: 1rem;
        }
        
        .suggestion-card {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-top: 1.5rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            border-left: 4px solid var(--pastel-blue);
        }
        
        .activity-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .activity-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
            border-top: 4px solid var(--pastel-peach);
        }
        
        .activity-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .activity-card h4 {
            color: var(--pastel-purple);
            margin-top: 0;
        }
        
        .activity-card .duration {
            font-size: 0.9rem;
            color: #666;
            margin: 0.5rem 0;
        }
        
        .activity-card .btn-small {
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            background: var(--pastel-yellow);
        }
        
        footer {
            text-align: center;
            margin-top: 3rem;
            padding: 1.5rem;
            color: #666;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .activity-grid {
                grid-template-columns: 1fr;
            }
        }
       
  

.animate-fadeInLeft {
  animation: fadeInLeft 1s ease-out both;
}
/* Lumen-inspired color scheme */
        :root {
            --lumen-primary: #5E56E8;
            --lumen-secondary: #7B73FF;
            --lumen-accent: #FF6B6B;
            --lumen-light: #F8F7FF;
            --lumen-dark: #2E2A5C;
            --lumen-text: #4A4A4A;
        }
        
        /* Navbar Styles */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 5%;
            background-color: white;
            box-shadow: 0 2px 15px rgba(94, 86, 232, 0.1);
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        .navbar:hover {
            box-shadow: 0 5px 25px rgba(94, 86, 232, 0.15);
        }
        
        .logo {
            font-size: 28px;
            font-weight: 700;
            color: var(--lumen-primary);
            text-decoration: none;
            display: flex;
            align-items: center;
        }
        
        .logo span {
            color: var(--lumen-accent);
        }
        
        .nav-links {
            display: flex;
            gap: 30px;
        }
        
        .nav-links a {
            position: relative;
            text-decoration: none;
            color: var(--lumen-text);
            font-weight: 500;
            font-size: 16px;
            transition: all 0.3s ease;
            padding: 5px 0;
        }
        
        /* Unique hover effect */
        .nav-links a::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--lumen-primary);
            transition: width 0.3s ease;
        }
        
        .nav-links a:hover {
            color: var(--lumen-primary);
        }
        
        .nav-links a:hover::before {
            width: 100%;
        }
        
        /* Button styles */
        .auth-buttons {
            display: flex;
            gap: 15px;
        }
        
        .nav-btn {
            padding: 10px 22px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .login-btn {
            background: transparent;
            border: 1px solid var(--lumen-primary);
            color: var(--lumen-primary);
        }
        
        .login-btn:hover {
            background: rgba(94, 86, 232, 0.05);
        }
        
        .signup-btn {
            background: var(--lumen-primary);
            border: 1px solid var(--lumen-primary);
            color: white;
        }
        
        .signup-btn:hover {
            background: var(--lumen-secondary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(94, 86, 232, 0.2);
        }
        
        /* Mobile menu (hidden by default) */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 24px;
            color: var(--lumen-primary);
            cursor: pointer;
        }
        
        @media (max-width: 768px) {
            .nav-links, .auth-buttons {
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .navbar {
                padding: 15px 5%;
            }
        }



    </style>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

        <nav class="navbar">
        <a href="./index.html" class="logo">Ehsaas<span>.</span></a>
        
        <button class="mobile-menu-btn">‚ò∞</button>
        
        <div class="nav-links">
            <a href="mood.html">MOOD AI</a>
            <a href="sleep.html">SLEEP AND HEALING</a>
            <a href="stress.html">STRESS AND ANXIETY</a>
            <a href="./saathi.html">SAATHI ROOMS</a>
            <a href="x.html">CHILL ZONE</a>
            <a href="find_my_therapist.html">NEED HELP?</a>
        </div>
        
        <div class="auth-buttons">
            <button class="nav-btn login-btn" onclick="window.location.href='login.html'">Log in</button>
            <button class="nav-btn signup-btn" onclick="window.location.href='signup.html'">Get Started</button>
        </div>
    </nav>

    <header>
        <div class="container">
        <br>
        <br>
            <h1>MOOD AI</h1>
            <p class="tagline">VENT YOUR FEELINGS OUT!!!!!</p>
            <p class="tagline">Your safe space to express and heal</p>
        </div>
    </header>
    
    <div class="container">
        <div class="main-card">
            <div class="tab-container">
                <div class="tab active" onclick="switchTab('text-tab')">
                    <i class="fas fa-keyboard"></i> Text
                </div>
                <div class="tab" onclick="switchTab('speech-tab')">
                    <i class="fas fa-microphone"></i> Speech
                </div>
                <div class="tab" onclick="switchTab('activities-tab')">
                    <i class="fas fa-heart"></i> Activities
                </div>
            </div>
            
            <!-- Text Tab -->
            <div id="text-tab" class="tab-content active">
                <div class="language-selector">
                    <label for="languageSelect"><strong>Choose Language:</strong></label>
                    <select id="languageSelect">
                        <option value="en">English</option>
                        <option value="hi">Hindi</option>
                    </select>
                </div>
                <textarea id="userText" placeholder="Write how you're feeling..."></textarea>
                <button class="btn" onclick="analyzeTextMood()">
                    <i class="fas fa-brain"></i> Analyze My Feelings
                </button>
                
                <div id="textResult" class="result-container" style="display: none;">
                    <div class="mood-display">
                        <div class="mood-icon" id="textMoodIcon">üòä</div>
                        <div>
                            <h3 id="textMoodResult">Detected Mood: </h3>
                        </div>
                    </div>
                    
                    <div class="suggestion-card">
                        <h4><i class="fas fa-lightbulb"></i> Suggested Activity</h4>
                        <p id="textSuggestion"></p>
                    </div>
                </div>
            </div>
            
            <!-- Speech Tab -->
            <div id="speech-tab" class="tab-content">
                <div class="language-selector">
                    <label for="speechLanguage"><strong>Choose Language:</strong></label>
                    <select id="speechLanguage">
                        <option value="en-US">English</option>
                        <option value="hi-IN">Hindi</option>
                    </select>
                </div>
                <button class="btn" id="record-btn" onclick="toggleRecording()">
                    <i class="fas fa-microphone"></i> Start Recording
                </button>
                <div id="speechStatus" style="margin: 1rem 0; text-align: center;"></div>
                
                <div id="speechResult" class="result-container" style="display: none;">
                    <p><strong>You said:</strong> <span id="speechText"></span></p>
                    <div class="mood-display">
                        <div class="mood-icon" id="speechMoodIcon">üòä</div>
                        <div>
                            <h3 id="speechMoodResult">Detected Mood: </h3>
                        </div>
                    </div>
                    
                    <div class="suggestion-card">
                        <h4><i class="fas fa-lightbulb"></i> Suggested Activity</h4>
                        <p id="speechSuggestion"></p>
                    </div>
                </div>
            </div>
            
            <!-- Activities Tab -->
            <div id="activities-tab" class="tab-content">
                <h3>Therapeutic Activities</h3>
                <p>Choose an activity based on your current mood or explore different options.</p>
                
                <div class="activity-grid" id="activity-grid">
                    <!-- Activities will be loaded here by JavaScript -->
                </div>
            </div>
        </div>
    </div>

<script>
    const HF_API_KEY = "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";
    
    // Mood icons mapping
    const moodIcons = {
        'anger': 'üò†', 'sadness': 'üò¢', 'fear': 'üò®', 
        'joy': 'üòä', 'disgust': 'ü§¢', 'surprise': 'üò≤',
        'neutral': 'üòê'
    };

    // Tab switching
    function switchTab(tabId) {
        document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
        document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
        event.currentTarget.classList.add('active');
    }

    function suggestActivity(mood) {
        const suggestions = {
            anger: "üßò‚Äç‚ôÇÔ∏è Try deep breathing or meditation",
            sadness: "üé∂ Listen to music or talk to a friend",
            fear: "üìñ Read something comforting or do grounding exercises",
            joy: "üéâ Celebrate your happiness, share with others!",
            disgust: "üåø Take a walk in nature or journal your thoughts",
            surprise: "üìù Write down your feelings or express creativity"
        };
        return suggestions[mood.toLowerCase()] || "üí¨ Join our community for support";
    }

    async function translateText(text) {
        const response = await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=en&dt=t&q=${encodeURIComponent(text)}`);
        const data = await response.json();
        return data[0][0][0];
    }

    async function detectMood(text, resultElementId) {
        const response = await fetch("https://api-inference.huggingface.co/models/j-hartmann/emotion-english-distilroberta-base", {
            method: "POST",
            headers: {
                "Authorization": `Bearer ${HF_API_KEY}`,
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ inputs: text })
        });
        
        const data = await response.json();
        if (data.error) {
            document.getElementById(resultElementId).innerHTML = `<p>Error: ${data.error}</p>`;
            return null;
        }
        
        const mood = data[0][0].label;
        const suggestion = suggestActivity(mood);
        
        // Update the appropriate UI elements based on which tab we're in
        const prefix = resultElementId.includes('text') ? 'text' : 'speech';
        
        document.getElementById(`${prefix}MoodIcon`).textContent = moodIcons[mood.toLowerCase()] || 'üòê';
        document.getElementById(`${prefix}MoodResult`).textContent = `Detected Mood: ${mood}`;
        document.getElementById(`${prefix}Suggestion`).textContent = suggestion;
        document.getElementById(resultElementId).style.display = 'block';
        
        return mood;
    }

    async function analyzeTextMood() {
        const input = document.getElementById("userText").value.trim();
        const lang = document.getElementById("languageSelect").value;
        
        if (!input) {
            alert("Please enter some text.");
            return;
        }
        
        // Show loading state
        const btn = document.querySelector('#text-tab .btn');
        const originalText = btn.innerHTML;
        btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Analyzing...';
        btn.disabled = true;
        
        document.getElementById("textResult").style.display = 'none';
        
        try {
            const textToAnalyze = lang === "hi" ? await translateText(input) : input;
            await detectMood(textToAnalyze, "textResult");
        } catch (error) {
            console.error("Analysis failed:", error);
            document.getElementById("textResult").innerHTML = `<p>Error analyzing text. Please try again.</p>`;
            document.getElementById("textResult").style.display = 'block';
        } finally {
            btn.innerHTML = originalText;
            btn.disabled = false;
        }
    }

    // Speech recognition
    let recognition;
    let isRecording = false;
    
    function toggleRecording() {
        const recordBtn = document.getElementById('record-btn');
        
        if (!isRecording) {
            startRecording();
            recordBtn.innerHTML = '<i class="fas fa-stop"></i> Stop Recording';
            recordBtn.style.background = '#ff6b6b';
            isRecording = true;
        } else {
            stopRecording();
            recordBtn.innerHTML = '<i class="fas fa-microphone"></i> Start Recording';
            recordBtn.style.background = 'var(--pastel-purple)';
            isRecording = false;
        }
    }
    
    function startRecording() {
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        if (!SpeechRecognition) {
            alert('Speech recognition is not supported in your browser. Try Chrome or Edge.');
            return;
        }
        
        recognition = new SpeechRecognition();
        recognition.lang = document.getElementById('speechLanguage').value;
        recognition.interimResults = false;
        
        recognition.onstart = () => {
            document.getElementById('speechStatus').textContent = 'Listening... Speak now.';
            document.getElementById('speechResult').style.display = 'none';
        };
        
        recognition.onresult = async (event) => {
            const transcript = event.results[0][0].transcript;
            document.getElementById('speechStatus').textContent = `Processing: "${transcript}"`;
            document.getElementById('speechText').textContent = transcript;
            
            try {
                const lang = document.getElementById('speechLanguage').value;
                const textToAnalyze = lang === "hi-IN" ? await translateText(transcript) : transcript;
                await detectMood(textToAnalyze, "speechResult");
            } catch (error) {
                console.error("Analysis failed:", error);
                document.getElementById('speechResult').innerHTML = `<p>Error analyzing speech. Please try again.</p>`;
                document.getElementById('speechResult').style.display = 'block';
            }
        };
        
        recognition.onerror = (event) => {
            console.error('Speech recognition error', event.error);
            document.getElementById('speechStatus').textContent = `Error: ${event.error}`;
            isRecording = false;
            document.getElementById('record-btn').innerHTML = '<i class="fas fa-microphone"></i> Start Recording';
            document.getElementById('record-btn').style.background = 'var(--pastel-purple)';
        };
        
        recognition.start();
    }
    
    function stopRecording() {
        if (recognition) {
            recognition.stop();
        }
        document.getElementById('speechStatus').textContent = '';
    }

    // Activities functionality
    document.addEventListener('DOMContentLoaded', function() {
        const activities = [
            {
                title: "Guided Meditation",
                description: "10-minute stress relief meditation",
                duration: "10 min",
                icon: "fas fa-spa",
                category: "all"
            },
            {
                title: "Breathing Exercise",
                description: "4-7-8 technique for anxiety relief",
                duration: "5 min",
                icon: "fas fa-wind",
                category: "anxiety"
            },
            {
                title: "Gratitude Journal",
                description: "Write down 3 things you're grateful for",
                duration: "5 min",
                icon: "fas fa-book",
                category: "depression"
            },
            {
                title: "Anger Release",
                description: "Physical exercises to release tension",
                duration: "7 min",
                icon: "fas fa-fire",
                category: "anger"
            },
            {
                title: "Mood Tracker",
                description: "Record your mood throughout the day",
                duration: "2 min",
                icon: "fas fa-chart-line",
                category: "all"
            },
            {
                title: "Positive Affirmations",
                description: "Repeat uplifting statements about yourself",
                duration: "3 min",
                icon: "fas fa-comment-dots",
                category: "depression"
            },
            {
                title: "Nature Walk",
                description: "Short walk while observing nature",
                duration: "15 min",
                icon: "fas fa-tree",
                category: "all"
            },
            {
                title: "Art Therapy",
                description: "Express yourself through simple drawing",
                duration: "10 min",
                icon: "fas fa-palette",
                category: "all"
            }
        ];
        
        const activityGrid = document.getElementById('activity-grid');
        
        activities.forEach(activity => {
            const activityCard = document.createElement('div');
            activityCard.className = 'activity-card';
            activityCard.innerHTML = `
                <h4><i class="${activity.icon}"></i> ${activity.title}</h4>
                <p>${activity.description}</p>
                <p class="duration">Duration: ${activity.duration}</p>
                <button class="btn btn-small" onclick="startActivity('${activity.title}')">
                    <i class="fas fa-play"></i> Start
                </button>
            `;
            activityGrid.appendChild(activityCard);
        });
    });
    
    function startActivity(activityName) {
        alert(`Starting activity: ${activityName}\n\nThis would launch the specific activity in a full implementation.`);
    }
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mindful Moments - Therapeutic Activities</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600&family=Playfair+Display:wght@400;500&display=swap">
    <style>
        :root {
            --primary: #6c5ce7;
            --secondary: #a29bfe;
            --accent: #fd79a8;
            --light: #f8f9fa;
            --dark: #2d3436;
            --success: #00b894;
            --warning: #fdcb6e;
            --danger: #d63031;
            --text: #636e72;
            --white: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #f5f6ff;
            color: var(--text);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        h1 {
            font-family: 'Playfair Display', serif;
            color: var(--primary);
            font-size: 2.8rem;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--text);
            max-width: 600px;
            margin: 0 auto;
        }

        .mood-selector {
            background: var(--white);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(108, 92, 231, 0.1);
            margin-bottom: 2rem;
            text-align: center;
        }

        .mood-title {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
        }

        .mood-options {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .mood-option {
            background: var(--white);
            border: 2px solid var(--secondary);
            border-radius: 50%;
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.8rem;
        }

        .mood-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(108, 92, 231, 0.2);
        }

        .mood-option.active {
            border-color: var(--primary);
            background: var(--primary);
            color: white;
        }

        .activities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .activity-card {
            background: var(--white);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            position: relative;
        }

        .activity-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(108, 92, 231, 0.15);
        }

        .activity-image {
            height: 150px;
            background-size: cover;
            background-position: center;
        }

        .activity-content {
            padding: 1.5rem;
        }

        .activity-title {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: var(--dark);
            font-weight: 500;
        }

        .activity-desc {
            font-size: 0.95rem;
            margin-bottom: 1rem;
            color: var(--text);
        }

        .activity-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            color: var(--text);
        }

        .activity-duration {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .btn {
            display: inline-block;
            padding: 0.7rem 1.5rem;
            border-radius: 50px;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-family: 'Montserrat', sans-serif;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: #5649d1;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(108, 92, 231, 0.3);
        }

        .btn-outline {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .modal.active {
            opacity: 1;
            pointer-events: all;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            padding: 2rem;
            position: relative;
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .modal.active .modal-content {
            transform: translateY(0);
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text);
            background: none;
            border: none;
        }

        .modal-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }

        .timer {
            font-size: 2.5rem;
            text-align: center;
            margin: 1.5rem 0;
            font-weight: 600;
            color: var(--primary);
        }

        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
        }

        .progress-container {
            width: 100%;
            height: 10px;
            background: #f0f0f0;
            border-radius: 5px;
            margin: 1.5rem 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: var(--primary);
            width: 0%;
            transition: width 1s linear;
        }

        .guided-text {
            max-height: 300px;
            overflow-y: auto;
            padding-right: 1rem;
            margin-bottom: 1.5rem;
        }

        .guided-text p {
            margin-bottom: 1rem;
        }

        /* Mood emoji colors */
        .happy { color: #fdcb6e; background: rgba(253, 203, 110, 0.1); }
        .calm { color: #00b894; background: rgba(0, 184, 148, 0.1); }
        .sad { color: #0984e3; background: rgba(9, 132, 227, 0.1); }
        .angry { color: #d63031; background: rgba(214, 48, 49, 0.1); }
        .anxious { color: #6c5ce7; background: rgba(108, 92, 231, 0.1); }
        .tired { color: #636e72; background: rgba(99, 110, 114, 0.1); }

        @media (max-width: 768px) {
            .mood-options {
                gap: 0.5rem;
            }
            .mood-option {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }
            h1 {
                font-size: 2.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Mindful Moments</h1>
            <p class="subtitle">Choose an activity based on your current mood or explore different options to nurture your mental wellbeing.</p>
        </header>

        <div class="mood-selector">
            <h2 class="mood-title">How are you feeling today?</h2>
            <div class="mood-options">
                <div class="mood-option happy" data-mood="happy">üòä</div>
                <div class="mood-option calm" data-mood="calm">üòå</div>
                <div class="mood-option sad" data-mood="sad">üòî</div>
                <div class="mood-option angry" data-mood="angry">üò†</div>
                <div class="mood-option anxious" data-mood="anxious">üò∞</div>
                <div class="mood-option tired" data-mood="tired">üò¥</div>
            </div>
            <button id="showAllBtn" class="btn btn-outline">Show All Activities</button>
        </div>

        <div class="activities-grid" id="activitiesGrid">
            <!-- Activities will be inserted here by JavaScript -->
        </div>
    </div>

    <!-- Modal for activities -->
    <div class="modal" id="activityModal">
        <div class="modal-content">
            <button class="close-modal" id="closeModal">&times;</button>
            <h2 class="modal-title" id="modalTitle">Activity Title</h2>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div class="timer" id="timer">00:00</div>
            <div class="guided-text" id="guidedText">
                <!-- Activity instructions will go here -->
            </div>
            <div class="timer-controls">
                <button class="btn btn-primary" id="startBtn">Start</button>
                <button class="btn btn-outline" id="pauseBtn" style="display: none;">Pause</button>
                <button class="btn btn-outline" id="resetBtn">Reset</button>
            </div>
        </div>
    </div>

    <script>
        // Activity data
        const activities = [
            {
                id: 1,
                title: "Guided Meditation",
                description: "10-minute stress relief meditation to calm your mind and body.",
                duration: 10,
                emoji: "üßò‚Äç‚ôÄÔ∏è",
                category: ["calm", "anxious", "tired"],
                instructions: `
                    <p>Find a comfortable position, either sitting or lying down. Close your eyes gently.</p>
                    <p>Take a deep breath in through your nose... and slowly exhale through your mouth. Again, breathe in... and out.</p>
                    <p>Now, bring your attention to your body. Notice any areas of tension. As you breathe out, imagine releasing that tension.</p>
                    <p>If your mind wanders, that's okay. Gently bring your focus back to your breath.</p>
                    <p>Continue this practice for the duration. When the timer ends, slowly open your eyes and take a moment to notice how you feel.</p>
                `,
                colorClass: "calm"
            },
            {
                id: 2,
                title: "Breathing Exercise",
                description: "4-7-8 technique to reduce anxiety and promote relaxation.",
                duration: 5,
                emoji: "üå¨Ô∏è",
                category: ["anxious", "angry", "calm"],
                instructions: `
                    <p>The 4-7-8 breathing technique is simple yet powerful for calming your nervous system.</p>
                    <ol>
                        <li>Empty your lungs completely by exhaling through your mouth</li>
                        <li>Close your mouth and inhale quietly through your nose for 4 seconds</li>
                        <li>Hold your breath for 7 seconds</li>
                        <li>Exhale completely through your mouth for 8 seconds</li>
                    </ol>
                    <p>This completes one breath. Repeat this cycle for the duration of the exercise.</p>
                    <p>Try to keep the ratio consistent, even if you need to adjust the speed to your comfort level.</p>
                `,
                colorClass: "calm"
            },
            {
                id: 3,
                title: "Gratitude Journal",
                description: "Write down 3 things you're grateful for to shift your perspective.",
                duration: 5,
                emoji: "üìù",
                category: ["sad", "happy", "tired"],
                instructions: `
                    <p>Gratitude has been shown to improve mood and overall wellbeing.</p>
                    <p>Take a moment to reflect and write down:</p>
                    <ol>
                        <li>One person you're grateful for and why</li>
                        <li>One experience you're grateful for</li>
                        <li>One simple pleasure you appreciate today</li>
                    </ol>
                    <p>Try to be specific. Instead of "I'm grateful for my family," try "I'm grateful for how my sister made me laugh yesterday."</p>
                    <p>You can write in a journal, notes app, or even say them aloud.</p>
                `,
                colorClass: "happy"
            },
            {
                id: 4,
                title: "Anger Release",
                description: "Physical exercises to safely release tension and frustration.",
                duration: 7,
                emoji: "üí¢",
                category: ["angry"],
                instructions: `
                    <p>Physical movement can help release pent-up anger in a healthy way.</p>
                    <p>Try these exercises:</p>
                    <ol>
                        <li><strong>Tense and release:</strong> Clench your fists tightly for 5 seconds, then release. Repeat 3 times.</li>
                        <li><strong>Shake it out:</strong> Stand and shake your limbs vigorously for 30 seconds.</li>
                        <li><strong>Shadow boxing:</strong> Throw slow, controlled punches in the air for 1 minute.</li>
                        <li><strong>Stomp:</strong> Stomp your feet firmly (on the ground or a cushion) 10 times.</li>
                    </ol>
                    <p>Finish with 3 deep breaths, inhaling through your nose and exhaling through your mouth.</p>
                `,
                colorClass: "angry"
            },
            {
                id: 5,
                title: "Mood Tracker",
                description: "Record your mood throughout the day to build self-awareness.",
                duration: 2,
                emoji: "üìä",
                category: ["happy", "sad", "angry", "anxious", "tired", "calm"],
                instructions: `
                    <p>Tracking your mood helps identify patterns and triggers.</p>
                    <p>Right now, rate your mood on a scale of 1-10 (1 = very low, 10 = excellent).</p>
                    <p>Then note:</p>
                    <ul>
                        <li>What emotions you're feeling (e.g., anxious, content, frustrated)</li>
                        <li>Any physical sensations (e.g., tight chest, relaxed muscles)</li>
                        <li>What might be contributing to your current mood</li>
                    </ul>
                    <p>Try checking in 3 times today (morning, afternoon, evening) to see how your mood changes.</p>
                `,
                colorClass: "calm"
            },
            {
                id: 6,
                title: "Positive Affirmations",
                description: "Repeat uplifting statements to cultivate self-compassion.",
                duration: 3,
                emoji: "üíñ",
                category: ["sad", "anxious", "tired"],
                instructions: `
                    <p>Affirmations help rewire negative thought patterns.</p>
                    <p>Choose 2-3 of these or create your own:</p>
                    <ul>
                        <li>"I am enough just as I am."</li>
                        <li>"I choose peace over perfection."</li>
                        <li>"My challenges help me grow stronger."</li>
                        <li>"I am allowed to take up space."</li>
                        <li>"Today, I will be gentle with myself."</li>
                    </ul>
                    <p>Say them aloud with conviction, even if you don't fully believe them yet. Repeat each one 3-5 times.</p>
                    <p>For extra impact, say them while looking in a mirror.</p>
                `,
                colorClass: "happy"
            },
            {
                id: 7,
                title: "Nature Walk",
                description: "Short walk while mindfully observing nature around you.",
                duration: 15,
                emoji: "üå≥",
                category: ["tired", "anxious", "sad"],
                instructions: `
                    <p>Nature has a calming effect on our nervous system.</p>
                    <p>If possible, step outside (even just your backyard or balcony). As you walk:</p>
                    <ul>
                        <li>Notice 5 things you can see (e.g., leaves moving, cloud shapes)</li>
                        <li>Notice 4 things you can hear (e.g., birds, wind)</li>
                        <li>Notice 3 things you can feel (e.g., sun on skin, ground beneath you)</li>
                        <li>Notice 2 things you can smell (e.g., fresh air, flowers)</li>
                        <li>Notice 1 thing you appreciate about nature</li>
                    </ul>
                    <p>Walk slowly, breathing deeply. If you can't go outside, look out a window or visualize a peaceful natural setting.</p>
                `,
                colorClass: "calm"
            },
            {
                id: 8,
                title: "Art Therapy",
                description: "Express your emotions through simple, intuitive drawing.",
                duration: 10,
                emoji: "üé®",
                category: ["sad", "angry", "happy"],
                instructions: `
                    <p>Art is a powerful way to process emotions without words.</p>
                    <p>You'll need paper and any drawing tool (pen, pencil, markers).</p>
                    <p>Try one of these approaches:</p>
                    <ol>
                        <li>Draw your current emotion as a shape, color, or abstract form</li>
                        <li>Create scribbles matching your energy level (fast, slow, jagged, smooth)</li>
                        <li>Draw a safe place or happy memory</li>
                    </ol>
                    <p>Remember: This isn't about creating "good" art. Focus on the process, not the product.</p>
                    <p>When finished, reflect on how the experience felt.</p>
                `,
                colorClass: "happy"
            }
        ];

        // DOM elements
        const activitiesGrid = document.getElementById('activitiesGrid');
        const moodOptions = document.querySelectorAll('.mood-option');
        const showAllBtn = document.getElementById('showAllBtn');
        const activityModal = document.getElementById('activityModal');
        const closeModal = document.getElementById('closeModal');
        const modalTitle = document.getElementById('modalTitle');
        const guidedText = document.getElementById('guidedText');
        const timer = document.getElementById('timer');
        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const resetBtn = document.getElementById('resetBtn');
        const progressBar = document.getElementById('progressBar');

        // State variables
        let currentActivity = null;
        let timerInterval = null;
        let timeLeft = 0;
        let isPaused = false;
        let selectedMood = null;

        // Initialize the app
        function init() {
            renderActivities(activities);
            setupEventListeners();
        }

        // Render activities to the grid
        function renderActivities(activitiesToRender) {
            activitiesGrid.innerHTML = '';
            
            activitiesToRender.forEach(activity => {
                const activityCard = document.createElement('div');
                activityCard.className = `activity-card ${activity.colorClass}`;
                activityCard.innerHTML = `
                    <div class="activity-image" style="background-color: ${getColorForCategory(activity.colorClass)}; display: flex; align-items: center; justify-content: center; font-size: 4rem;">
                        ${activity.emoji}
                    </div>
                    <div class="activity-content">
                        <h3 class="activity-title">${activity.title}</h3>
                        <p class="activity-desc">${activity.description}</p>
                        <div class="activity-meta">
                            <span class="activity-duration">‚è±Ô∏è ${activity.duration} min</span>
                            <button class="btn btn-primary" data-id="${activity.id}">Start</button>
                        </div>
                    </div>
                `;
                activitiesGrid.appendChild(activityCard);
            });

            // Add event listeners to activity buttons
            document.querySelectorAll('.activity-card .btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const id = parseInt(e.target.getAttribute('data-id'));
                    currentActivity = activities.find(a => a.id === id);
                    openActivityModal(currentActivity);
                });
            });
        }

        // Get color for category
        function getColorForCategory(category) {
            const colors = {
                happy: '#FFF9D9',
                calm: '#E0F9F3',
                sad: '#E0F0FF',
                angry: '#FFE0E0',
                anxious: '#EDE8FF',
                tired: '#F0F0F0'
            };
            return colors[category] || '#FFFFFF';
        }

        // Set up event listeners
        function setupEventListeners() {
            // Mood selection
            moodOptions.forEach(option => {
                option.addEventListener('click', () => {
                    moodOptions.forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                    selectedMood = option.getAttribute('data-mood');
                    filterActivitiesByMood(selectedMood);
                });
            });

            // Show all activities
            showAllBtn.addEventListener('click', () => {
                moodOptions.forEach(opt => opt.classList.remove('active'));
                selectedMood = null;
                renderActivities(activities);
            });

            // Modal controls
            closeModal.addEventListener('click', closeActivityModal);
            startBtn.addEventListener('click', startTimer);
            pauseBtn.addEventListener('click', pauseTimer);
            resetBtn.addEventListener('click', resetTimer);
        }

        // Filter activities by selected mood
        function filterActivitiesByMood(mood) {
            const filtered = activities.filter(activity => 
                activity.category.includes(mood)
            );
            renderActivities(filtered);
        }

        // Open activity modal
        function openActivityModal(activity) {
            modalTitle.textContent = activity.title;
            guidedText.innerHTML = activity.instructions;
            timeLeft = activity.duration * 60; // Convert to seconds
            updateTimerDisplay();
            progressBar.style.width = '0%';
            
            activityModal.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // Reset timer state
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            isPaused = false;
            startBtn.style.display = 'inline-block';
            pauseBtn.style.display = 'none';
        }

        // Close activity modal
        function closeActivityModal() {
            activityModal.classList.remove('active');
            document.body.style.overflow = 'auto';
            
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
        }

        // Start timer
        function startTimer() {
            if (timerInterval) return;
            
            const totalTime = currentActivity.duration * 60;
            const startTime = Date.now();
            const endTime = startTime + timeLeft * 1000;
            
            timerInterval = setInterval(() => {
                if (isPaused) return;
                
                const now = Date.now();
                timeLeft = Math.max(0, Math.round((endTime - now) / 1000));
                
                updateTimerDisplay();
                
                // Update progress bar
                const progress = ((totalTime - timeLeft) / totalTime) * 100;
                progressBar.style.width = `${progress}%`;
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    timerInterval = null;
                    startBtn.style.display = 'none';
                    pauseBtn.style.display = 'none';
                }
            }, 1000);
            
            startBtn.style.display = 'none';
            pauseBtn.style.display = 'inline-block';
        }

        // Pause timer
        function pauseTimer() {
            isPaused = !isPaused;
            pauseBtn.textContent = isPaused ? 'Resume' : 'Pause';
        }

        // Reset timer
        function resetTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            
            timeLeft = currentActivity.duration * 60;
            updateTimerDisplay();
            progressBar.style.width = '0%';
            isPaused = false;
            startBtn.style.display = 'inline-block';
            pauseBtn.style.display = 'none';
            pauseBtn.textContent = 'Pause';
        }

        // Update timer display
        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timer.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // Initialize the app
        init();
    </script>
</body>
</html>

